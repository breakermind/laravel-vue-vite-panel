import{L as m}from"./index.esm.js";import{_ as u,T as y,r as h,o as f,c as _,a as w,b as n,t as v,w as c,v as g,p as k,d as L}from"../js/index.js";const M={name:"map-view",components:{TopMenu:y},data(){return{api_key:"",map:null,poly:null,polygon:null,lat:24.886,lng:-70.268,scrollwheel:!0,zoom:5,disableDefaultUI:!1,created_polygon:""}},mounted:function(){this.loadMap()},methods:{loadMap(){let o=null;new m({apiKey:this.api_key,version:"weekly",libraries:["drawing","geometry"]}).load().then(()=>{this.map=new google.maps.Map(document.getElementById("map"),{center:{lat:this.lat,lng:this.lng},scrollwheel:this.scrollwheel,zoom:this.zoom,disableDefaultUI:!1}),this.marker=new google.maps.Marker({position:{lat:this.lat,lng:this.lng},map:this.map}),this.polygon=[{lat:25.774,lng:-80.19},{lat:18.466,lng:-66.118},{lat:32.321,lng:-64.757},{lat:25.774,lng:-80.19}],this.poly=new google.maps.Polygon({paths:this.polygon,strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.35}),this.poly.setMap(this.map);const i=(e,t)=>{e?(alert("Wooow"),console.log("Contain location",t.latLng)):(alert("Pooow"),console.log("Dont contain location",t.latLng))};google.maps.event.addListener(this.map,"click",e=>{const t=!!google.maps.geometry.poly.containsLocation(e.latLng,this.poly);i(t,e)}),google.maps.event.addListener(this.poly,"click",e=>{const t=!!google.maps.geometry.poly.containsLocation(e.latLng,this.poly);i(t,e)}),o=new google.maps.Data({map:this.map}),o.setControls(["Polygon"]),o.setDrawingMode("Polygon"),o.setStyle({editable:!0,draggable:!0,strokeColor:"#12bc00",fillColor:"#12bc00",strokeOpacity:.7,strokeWeight:2,fillOpacity:.5,zIndex:0}),o.addListener("addfeature",function(e){s(e),updatePoly(e),o.forEach(t=>{t!=e.feature&&o.remove(t)})}),o.addListener("dragend",function(e){s(e)}),o.addListener("setgeometry",function(e){s(e)}),o.addListener("rightclick",function(e){o.remove(e.feature)});function s(e){let t={type:"Polygon",coordinates:[]},r=e.feature.getGeometry(),l=[];r.forEachLatLng(d=>{l.push(d),console.log("Point",d)}),l.push(l[0]),t.coordinates.push(l);let p=document.getElementById("poly");p?p.value=JSON.stringify(t):console.log('Add <input id="poly" name="poly"> for polygon')}})}}},b=o=>(k("data-v-0f13868e"),o=o(),L(),o),x={class:"content"},D=b(()=>n("div",{id:"map"},null,-1));function I(o,a,i,s,e,t){const r=h("TopMenu");return f(),_("main",null,[w(r),n("div",x,[n("h1",null,v(o.$t("page.Map")),1),D,c(n("textarea",{id:"poly","onUpdate:modelValue":a[0]||(a[0]=l=>e.created_polygon=l)},null,512),[[g,e.created_polygon]]),c(n("textarea",{id:"poly1","onUpdate:modelValue":a[1]||(a[1]=l=>e.created_polygon=l)},null,512),[[g,e.created_polygon]])])])}var S=u(M,[["render",I],["__scopeId","data-v-0f13868e"]]);export{S as default};
